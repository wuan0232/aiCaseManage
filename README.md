# aiCaseManage - 智能病例管理系统 (纯前端版)

> **项目简介**：
> 这是一个基于 HTML5/ES6/LocalStorage 的纯前端单页应用 (SPA)。它模拟了一个医疗场景下的全流程管理系统，核心解决在无后端环境下，如何通过逻辑约束实现“诊疗行为真实性核验”与“全流程可视化追踪”。

## 🚀 1. 快速启动 (Quick Start)

本项目无需任何后端环境（如 Node.js 或 Python），也无需配置数据库。

1.  **下载/解压**：获取项目源码包。
2.  **运行**：直接双击打开 `index.html` 文件（建议使用 Chrome, Edge 或 Safari 浏览器）。
3.  **重置**：首次运行建议点击侧边栏底部的 `[重置]` 按钮，初始化演示环境。

---

## 📖 2. 核心功能与操作流程

本系统模拟了 **患者端 (C端)** 与 **医护端 (B端)** 的交互逻辑。

### 阶段一：患者登记与握手 (Registration & Handshake)
* **登记**：点击“患者管理” -> “新增患者”，录入基本信息。
* **获取凭证 (模拟患者端)**：
    * 在列表页点击患者名字旁边的 **📱 (手机图标)**。
    * 系统弹出蓝色的 **“电子就诊卡”**，显示大号 **就诊码 (VisitCode)**。
    * *场景含义：模拟患者拿出手机向医生出示二维码。*

### 阶段二：医生接诊与核验 (Doctor Diagnosis)
* **接诊**：进入“诊疗任务追踪”，找到黄色的 `💊 处方开具` 任务，点击 **⚡ 执行并核验**。
* **真实性核验 (核心功能)**：
    1.  **地点校验**：必须选择 `医生诊室`（选错报错）。
    2.  **身份校验**：选择 `张医生`，输入 PIN `1234`。
    3.  **握手校验**：输入患者刚才出示的 **就诊码**。
* **自动流转**：核验通过后，系统根据处方内容，**自动派发**下一阶段任务（影像检查或物理治疗）。

### 阶段三：医技执行 (Technician Execution)
* **执行**：在任务列表找到新生成的 `🩻 影像` 或 `💆 理疗` 任务。
* **权限互斥**：
    * 必须前往对应地点（如 `理疗康复室`）。
    * 必须切换操作员（如 `王治疗师`），医生无权操作此步骤。
* **归档**：提交后，患者状态自动更新为 `诊疗结束`。

### 阶段四：全流程追踪 (Visualization)
* **病历回溯**：点击患者列表的 `详情` 按钮，查看完整的时间轴病历 (Timeline)，包含每一步的执行人与时间。
* **全生命周期**：
    * **复诊**：点击 `复诊` 按钮，可为老患者开启新一轮就诊。
    * **检索**：使用上方搜索框快速查找患者。

---

## ⚙️ 3. 数据管理
* **数据持久化**：所有数据实时保存于浏览器 `LocalStorage`，刷新或关闭页面数据不丢失。
* **数据导出**：点击侧边栏 `[导出JSON]` 按钮，可将当前数据库备份到本地文件。

---
*Powered by AI Assisted Development*
